# 4DFUCCI

4D FUCCI README File

This README file supplements the code made publicly available on GitHub. It contains a brief guide on
how the available code is designed to be run for the readerâ€™s testing, as well as recommendations for some
parameter choices depending on available computational power.

Running the IBM
===============

For the purposes of demonstrating the simulation code, it is to be run as follows:

	- MATLAB can interpret C code with the mex function. Ensure that the cells.c file is compiled with 
	  MATLAB, using the command ``mex cells.c -R2018a``. A Windows compatible compilation file is provided, 
	  but it is recommended that the cells.c is manually compiled with the previous command if running on 
	  Linux or MacOS, as the interpreting file is not compatible across operating systems. 

	- Run hpc_script(id) in MATLAB, where id is the simulation ID, and ranges from 1 to 10. The values
	  of id should begin at 1 and increase consecutively. The use of hpc_script(id) will call the ibm3d 
	  function, which contains all of the subroutines needed for the simulation. hpc_script(id) will deposit
	  the workspace data into the "Workspaces" folder.

	- When hpc_script(id) is completed for all values of id desired, run workspace_analysis. This will 
	  generate the majority of workspace variables required for the figures.

	- Now, any of the figures needed may be generated by running the corresponding MATLAB files in their
	  folders. Note that, for Figure 5a, these figures are generated with the Plotly Python package and API
	  (https://plot.ly). It is recommended that each 3D profile is plotted one-by-one, so as not to overwork the API. The
	  Python file (nutrient3Dplot.py) indicates where this line should be changed to achieve this.

If the reader is using a personal computer, it is recommended that they set Nx = Ny = Nz = 101. If using
high performance computing, there is no need to change from the parameter values in the paper. The reader
should also make sure that the variable runcount is set to the number of runs performed, or the number of
workspaces in the Workspaces folder. 

The experimental radius data are collected in the RadiusData folder. IncucyteData.csv contains the data for external radii
for a number of experiments, including the radius data for WM793b, with an initial seeding density of 10,000 cells. Files 
with the name format "dayX.csv" are the outer, arrested, and necrotic radius estimates from the image processing for
experimental images. The data in this folder are used for the generation of Figure 8. 
